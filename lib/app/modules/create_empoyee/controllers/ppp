void validateAndSave({
    required String name,
    required String departement,
    required isEdit,
  }) async {
    isFormValid = formKey.currentState!.validate();
    if (!isFormValid) {
      return;
    } else {
      formKey.currentState!.save();
      //TODO:https://youtu.be/haok75fnIQQ?si=1Gdt51BjUPTrWtSV&t=357
      // if (!isEdit) {}
      if (imagePath.isNotEmpty) {
        try {
          FullScreenDialogLoader.showDialog();
          await authRepository
              .uploadEmployeeImage(imagePath.value)
              .then((value) async {
            uploadedFileId = value.$id;
            await authRepository.createEmploye({
              "name": name,
              "departement": departement,
              "createdBy": _getStorage.read("userId"),
              "image": uploadedFileId,
              "createdAt": DateTime.now().toIso8601String()
            }).then((value) {
              FullScreenDialogLoader.cancelDialog();
              CustomSnackBar.showSuccessSnackBar(
                  context: Get.context,
                  title: "Success",
                  message: "Data saved");
            });
          }).catchError((error) async {
            FullScreenDialogLoader.cancelDialog();
            if (error is AppwriteException) {
              CustomSnackBar.showErrorSnackBar(
                  context: Get.context,
                  title: "Error",
                  message: error.response['message']);
            } else {
              CustomSnackBar.showErrorSnackBar(
                  context: Get.context,
                  title: "Error",
                  message: "Shomething went wrong");
            }
            await authRepository.deleteEmployeeImage(uploadedFileId);
          });
        } catch (e) {
          FullScreenDialogLoader.cancelDialog();
          CustomSnackBar.showErrorSnackBar(
              context: Get.context,
              title: "Error",
              message: "Shomething went wrong");
        }
      } else {
        CustomSnackBar.showErrorSnackBar(
            context: Get.context,
            title: "Error",
            message: "Please select image");
      }
    }
  }